<div class="mainContent">

    <div class="titleHeadet">
        <h3 class="vsecom_pageHeader">Rate by Order Price</h3>
        <button>
          <i class="material-icons cursor_p" (click)="goback()">arrow_back</i>
      </button>
      </div>

    <mat-card>
        <form [formGroup]="orderPrice" (ngSubmit)="onSubmit()">
            <div formArrayName="ratebyorderPrice">
                <div *ngFor="let Price of ratebyorderPrice().controls; let addIndex=index">
                    <div [formGroupName]="addIndex">


                        <div fxLayout="row wrap" fxLayoutAlign="space-between ">
                            <div fxFlex="49">
                                <mat-form-field class="rowItem" appearance="outline">
                                    <mat-label>
                                        Delivery Option Name
                                    </mat-label>
                                    <input type="text" matInput formControlName="DisplayName" [(ngModel)]="displayName">
                                    <mat-error>
                                        <span *ngIf="submitted && ratebyorderPrice().invalid">
                                            Please enter delivery option name</span>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div fxFlex="49">

                                <mat-form-field class="rowItem" appearance="outline">
                                    <mat-label>
                                        Est.Delivery Time (optional)
                                    </mat-label>
                                    <input type="text" matInput formControlName="DeliveryTime"
                                        [(ngModel)]="displayTime">
                                    <mat-error>
                                        <span *ngIf="submitted && ratebyorderPrice().invalid">
                                            Please enter delivery time</span>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>





                        <div class="addPriceHeading">
                            <div class="priceRangeHeading">
                                <h4>Price Range</h4>
                            </div>
                            <div class="rateHeading">
                                <h4>Rate</h4>
                            </div>
                        </div>
                        <div formArrayName="pricingDetails">
                            <div *ngFor="let price of addPrice(addIndex).controls; let pricingIndex=index">
                                <div [formGroupName]="pricingIndex">
                                    <div>
                                        <div class="rangeStart">
                                            <div class="rangevalue">
                                                <mat-form-field class="rowItem">
                                                    <input type="text" matInput [(ngModel)]="rangeStart"
                                                        formControlName="RangeStart">
                                                    <mat-error>
                                                        <span *ngIf="submitted && addPrice(pricingIndex).invalid">
                                                            Please enter stating price</span>
                                                    </mat-error>
                                                </mat-form-field>

                                            </div>
                                            <div class="currency">
                                                {{currency}}
                                            </div>
                                        </div>
                                        <div class="rangeEnd">
                                            <div class="rangevalue">
                                                <mat-form-field class="rowItem">
                                                    <input type="text" matInput [(ngModel)]="rangeEnd"
                                                        formControlName="RangeEnd">
                                                </mat-form-field>
                                                <mat-error>
                                                    <span *ngIf="submitted && addPrice(pricingIndex).invalid">
                                                        Please enter ending price</span>
                                                </mat-error>
                                            </div>

                                            <div class="currency">
                                                {{currency}}
                                            </div>
                                        </div>
                                        <div class="rate">
                                            <div class="currency">
                                                {{currency}}
                                            </div>
                                            <div class="rangevalue">
                                                <mat-form-field class="rowItem">
                                                    <input type="text" matInput [(ngModel)]="rate"
                                                        formControlName="Rate">
                                                    <mat-error>
                                                        <span *ngIf="submitted && addPrice(pricingIndex).invalid">
                                                            Please enter rate</span>
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="addRow">
                                <span size="1.5" (click)="addRow(addIndex)">
                                    <mat-icon class="material-icons-outlined addicons">add_circle_outline</mat-icon>
                                </span>
                                <span size="10.5" (click)="addRow(addIndex)">
                                    Add Row
                                </span>

                            </div>
                        </div>
                        <div class="mainContent btncls">
                            <button mat-raised-button class="saveBtn" type="submit">Save</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </mat-card>
</div>